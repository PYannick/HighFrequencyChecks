<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>GIS check surveys if fall without Xm radius from a sampled point — isInterviewAtTheSamplePoint • HighFrequencyChecks</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="GIS check surveys if fall without Xm radius from a sampled point — isInterviewAtTheSamplePoint" />
<meta property="og:description" content="This function check that all interviews in the dataset were made within a distance from a sampled point.
It is based on a GIS shapefile providing the sample points for the assessment.
The function is based on the GPS data filled in the survey to determine their location.
There is an option to automatically mark for deletion the surveys which are to far away from a sampled point.
One internal function &quot;make_GeodesicBuffer&quot; used to create the buffers is created by Valentin
https://stackoverflow.com/users/5193830/valentin" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">HighFrequencyChecks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/HFC.html">High Frequency Checks, a template for data quality monitoring</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>GIS check surveys if fall without Xm radius from a sampled point</h1>
    
    <div class="hidden name"><code>isInterviewAtTheSamplePoint.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function check that all interviews in the dataset were made within a distance from a sampled point.
It is based on a GIS shapefile providing the sample points for the assessment.
The function is based on the GPS data filled in the survey to determine their location.
There is an option to automatically mark for deletion the surveys which are to far away from a sampled point.</p>
<p>One internal function "make_GeodesicBuffer" used to create the buffers is created by Valentin
https://stackoverflow.com/users/5193830/valentin</p>
    </div>

    <pre class="usage"><span class='fu'>isInterviewAtTheSamplePoint</span><span class='op'>(</span>
  ds <span class='op'>=</span> <span class='cn'>NULL</span>,
  dsCoordinates <span class='op'>=</span> <span class='cn'>NULL</span>,
  sampledPoints <span class='op'>=</span> <span class='cn'>NULL</span>,
  buffer <span class='op'>=</span> <span class='fl'>10</span>,
  surveyConsent <span class='op'>=</span> <span class='cn'>NULL</span>,
  reportingColumns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>enumeratorID</span>, <span class='va'>uniqueID</span><span class='op'>)</span>,
  deleteIsInterviewAtTheSamplePoint <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ds</th>
      <td><p>dataset containing the survey (from kobo): data.frame</p></td>
    </tr>
    <tr>
      <th>dsCoordinates</th>
      <td><p>name of the fields from the dataset where the information about the GPS coordinates are stored: list of string (c('Long','Lat'))</p></td>
    </tr>
    <tr>
      <th>sampledPoints</th>
      <td><p>dataset containing the shapefile of the households sampled - Regardless the projection used for the shapefile, it is transformed to WGS84</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>value in meter to determine the buffer from a sampled point which is acceptable: integer</p></td>
    </tr>
    <tr>
      <th>surveyConsent</th>
      <td><p>name of the field in the dataset where the survey consent is stored: string</p></td>
    </tr>
    <tr>
      <th>reportingColumns</th>
      <td><p>(Optional, by default it is built from the enumeratorID and the UniqueID) name of the columns from the dataset you want in the result: list of string (c('col1','col2',...))</p></td>
    </tr>
    <tr>
      <th>deleteIsInterviewAtTheSamplePoint</th>
      <td><p>(Optional, by default set as FALSE) if TRUE, the survey in error will be marked as 'deletedIsInterviewAtTheSamplePoint': boolean (TRUE/FALSE)</p></td>
    </tr>
    <tr>
      <th>uniqueID</th>
      <td><p>name of the field where the survey unique ID is stored: string</p></td>
    </tr>
    <tr>
      <th>enumeratorID</th>
      <td><p>name of the field where the enumerator ID is stored: string</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>dst      same dataset as the inputed one but with survey marked for deletion if errors are found and delete=TRUE (or NULL)</p>
<p>ret_log  list of the errors found (or NULL)</p>
<p>var      a list of value (or NULL)</p>
<p>graph    graphical representation of the results (or NULL)</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Yannick Pascaud</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='op'>{</span>
<span class='va'>ds</span> <span class='op'>&lt;-</span> <span class='fu'>HighFrequencyChecks</span><span class='fu'>::</span><span class='va'><a href='sample_dataset.html'>sample_dataset</a></span>
<span class='va'>sampledPoints</span> <span class='op'>&lt;-</span> <span class='fu'>HighFrequencyChecks</span><span class='fu'>::</span><span class='va'><a href='SamplePts.html'>SamplePts</a></span>
<span class='va'>dsCoordinates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"X_gps_reading_longitude"</span>,<span class='st'>"X_gps_reading_latitude"</span><span class='op'>)</span>
<span class='va'>buffer</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>surveyConsent</span> <span class='op'>&lt;-</span> <span class='st'>"survey_consent"</span>
<span class='va'>uniqueID</span> <span class='op'>&lt;-</span> <span class='st'>"X_uuid"</span>
<span class='va'>enumeratorID</span> <span class='op'>&lt;-</span> <span class='st'>"enumerator_id"</span>
<span class='va'>reportingColumns</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>enumeratorID</span>, <span class='va'>uniqueID</span><span class='op'>)</span>

<span class='va'>list</span><span class='op'>[</span><span class='va'>dst</span>,<span class='va'>ret_log</span>,<span class='va'>var</span>,<span class='va'>graph</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'>isInterviewAtTheSamplePoint</span><span class='op'>(</span>ds<span class='op'>=</span><span class='va'>ds</span>,
                                                           dsCoordinates<span class='op'>=</span><span class='va'>dsCoordinates</span>,
                                                           sampledPoints<span class='op'>=</span><span class='va'>sampledPoints</span>,
                                                           buffer<span class='op'>=</span><span class='va'>buffer</span>,
                                                           surveyConsent<span class='op'>=</span><span class='va'>surveyConsent</span>,
                                                           reportingColumns<span class='op'>=</span><span class='va'>reportingColumns</span>,
                                                           deleteIsInterviewAtTheSamplePoint<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>ret_log</span>, <span class='fl'>10</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has no comment</span></div><div class='output co'>#&gt; <span class='warning'>Warning: CRS object has comment, which is lost in output</span></div><div class='output co'>#&gt;     enumerator_id                               X_uuid Outside
#&gt; 44             14 0636c440-1b81-4cf2-9f56-9e3b6d378047     NOk
#&gt; 45              3 2ab24867-db88-40f2-ba97-b5c7b6da8f1d     NOk
#&gt; 46             76 0a3bcffb-0cba-4661-ac98-3c28b12b4ec8     NOk
#&gt; 65            102 8fd35129-6566-4200-a9b7-7e1a16825bc2     NOk
#&gt; 112            16 f19a65d7-d78e-4887-8d87-6ac8d0b35ee5     NOk
#&gt; 113            42                                          NOk
#&gt; 114            80 ca219404-8ebe-4855-b391-4e6e3dd71eec     NOk
#&gt; 115            83 13ece80f-f607-46a6-874d-99bf44c7a477     NOk
#&gt; 116            80 7d9162ca-72bb-4c40-b908-5de3b0e768a5     NOk
#&gt; 117           102 baceb291-a351-40a8-9587-150eb4312fe2     NOk</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Yannick Pascaud.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


